(()=>{"use strict";function e(e){console.log(e);let t=document.getElementsByClassName("chatBox")[0],n=document.getElementsByClassName("content")[0],s=document.getElementsByClassName("input")[0];if(""===e||null==e)return;let l=document.createElement("span");l.innerHTML="我："+e,l.className="me",t.appendChild(l),s.value="",function(e,t,n){let s=null;s=window.XMLHttpRequest?new XMLHttpRequest:ActiveXObject("Microsoft.XMLHTTP"),s.onreadystatechange=function(){4===s.readyState&&200===s.status&&n(s.responseText)},s.open(e,t,!0),s.send()}("get","http://127.0.0.1:12142/query?text="+e,(function(e){let s=document.createElement("span");document.getElementsByClassName("hidden")[0];n.scrollTop=n.scrollHeight,s.className="tulin",s.innerHTML="图灵："+e,t.appendChild(s);var l=new window.SpeechSynthesisUtterance(e);window.speechSynthesis.speak(l)}))}let t=document.getElementsByClassName("subBtn")[0],n=document.getElementsByClassName("input")[0],s=null;n.oninput=function(e){s=e.target.value},n.onkeydown=function(t){"Enter"===t.key&&(console.log(s),e(s))},t.onclick=function(){e(s),s=null}})();